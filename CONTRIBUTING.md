# 贡献指南

感谢你对**雪花写作法 Claude Code Subagents** 项目的兴趣！

## 如何贡献

### 贡献类型

我们欢迎以下类型的贡献：

1. **新增 Subagent**
   - 针对特定小说类型的专业 subagent（如：武侠小说专家、都市职场专家）
   - 新的辅助工具 subagent（如：世界观构建师、时间线管理器）
   - 翻译工具 subagent（如：方言对话顾问）

2. **改进现有 Subagent**
   - 优化提示词质量
   - 增加更多实战案例
   - 完善检查清单
   - 修复错误或不准确之处

3. **文档和示例**
   - 添加新的使用案例
   - 编写教程和最佳实践
   - 翻译成其他语言
   - 改进现有文档

4. **Bug 报告**
   - 报告 subagent 的问题
   - 提出改进建议
   - 反馈使用体验

## 贡献流程

### 1. Fork 项目

点击页面右上角的 "Fork" 按钮，将项目复制到你的账户。

### 2. 克隆到本地

```bash
git clone https://github.com/YOUR_USERNAME/snowflake-novel-subagents.git
cd snowflake-novel-subagents
```

### 3. 创建分支

```bash
git checkout -b feature/your-feature-name
# 或
git checkout -b fix/your-bug-fix
```

分支命名规范：
- `feature/` - 新功能
- `fix/` - 错误修复
- `docs/` - 文档更新
- `improve/` - 改进现有功能

### 4. 进行修改

根据你的贡献类型进行相应修改。

### 5. 提交更改

```bash
git add .
git commit -m "描述你的更改"
```

提交信息规范：
- `feat: 添加XX subagent`
- `fix: 修复XX问题`
- `docs: 更新XX文档`
- `improve: 改进XX功能`

### 6. 推送到 GitHub

```bash
git push origin feature/your-feature-name
```

### 7. 创建 Pull Request

1. 访问你的 fork 页面
2. 点击 "Pull Request" 按钮
3. 填写 PR 描述（使用下面的模板）
4. 等待审核

## Pull Request 模板

```markdown
## 更改类型
- [ ] 新增 Subagent
- [ ] 改进现有 Subagent
- [ ] 文档更新
- [ ] Bug 修复
- [ ] 其他

## 更改描述
[简要描述你的更改内容]

## 测试情况
- [ ] 已在 Claude Code 中测试
- [ ] 已验证输出格式正确
- [ ] 已检查与其他 subagent 的兼容性

## 相关 Issue
Closes #[issue 编号]（如果有）

## 截图或示例
[如果适用，添加截图或使用示例]

## 检查清单
- [ ] 代码遵循项目风格指南
- [ ] 更新了相关文档
- [ ] 添加了必要的注释
- [ ] 所有测试都通过
```

## Subagent 编写规范

### 文件结构

每个 subagent 文件应包含：

```yaml
---
name: subagent-name
description: 触发时机和功能描述（1-2句话，清晰具体）
tools: Read, Write, Edit, Glob, Grep  # 根据需要选择
---

你是一位资深的 [角色描述]，精通雪花写作法的第X步：[具体任务]。

## 核心使命
[清晰阐述这个 subagent 的主要职责]

## [主要章节1]
...

## [主要章节2]
...

## 工作流程
[详细的步骤说明]

## 输出格式
[提供模板]

## 质量检查清单
- [ ] 检查项1
- [ ] 检查项2
...

## 常见问题处理
Q: [问题]
A: [解答]

## 协作建议
[与其他 subagent 的协作方式]

## 进阶技巧
[提升使用效果的高级技巧]
```

### 命名规范

- **文件名**：使用小写字母和连字符，如 `story-concept-designer.md`
- **Subagent名**：与文件名一致，如 `story-concept-designer`
- **描述**：明确说明触发时机，如"当用户需要...时调用"

### 工具权限分配

根据 subagent 职能选择最小必要权限：

- **只读型**（检查、审阅）：`Read, Grep, Glob`
- **创作型**（写作、设计）：`Read, Write, Edit, Glob, Grep`
- **研究型**（类型专家）：`Read, Grep, Glob, WebFetch, WebSearch`
- **执行型**（需要运行命令）：`Read, Write, Edit, Bash, Glob, Grep`

### 内容质量标准

1. **清晰性**
   - 使用简洁明了的语言
   - 避免行话，或解释专业术语
   - 提供具体示例

2. **完整性**
   - 包含所有必要章节
   - 提供完整的工作流程
   - 给出实用的检查清单

3. **实用性**
   - 可直接应用于实际创作
   - 提供模板和格式
   - 包含常见问题解答

4. **专业性**
   - 基于成熟的写作理论
   - 符合行业标准
   - 经过实战验证

## 代码风格指南

### Markdown 格式

- 使用二级标题（##）作为主要章节
- 使用三级标题（###）作为子章节
- 使用四级标题（####）用于细分（谨慎使用）
- 列表项后空一行再开始新段落
- 代码块使用三个反引号标记

### 中文排版

- 中英文之间添加空格
- 中文与数字之间添加空格
- 使用全角标点符号（中文语境）
- 使用半角标点符号（代码、英文）
- 链接文字使用中文

示例：
- ✅ "使用 Claude Code 创建 10 个 subagents"
- ❌ "使用Claude Code创建10个subagents"

### 示例规范

提供示例时使用以下格式：

```markdown
**示例：**
"[具体示例内容]"

**分析：**
- ✅ 优点1
- ✅ 优点2
- ⚠️ 注意事项
```

对比示例使用：

```markdown
❌ **弱示例：**"[不好的例子]"（原因）
✅ **强示例：**"[好的例子]"（原因）
```

## 测试要求

提交 PR 前请确保：

### 功能测试

1. **单独测试**
   - 在 Claude Code 中单独调用此 subagent
   - 验证输出格式正确
   - 检查工作流程是否完整

2. **集成测试**
   - 与前置步骤的 subagent 配合测试
   - 与后续步骤的 subagent 衔接测试
   - 验证数据传递是否顺畅

3. **边界测试**
   - 测试极端情况（如字数过多/过少）
   - 测试错误输入的处理
   - 验证容错能力

### 文档测试

1. **可读性**
   - 让非专业人士阅读并反馈
   - 确保说明清晰易懂

2. **完整性**
   - 检查是否包含所有必要章节
   - 验证示例是否充分

3. **准确性**
   - 确保技术信息正确
   - 验证引用来源可靠

## 版本控制

### 版本号规范

遵循语义化版本（Semantic Versioning）：

- **主版本号（Major）**：不兼容的 API 修改
- **次版本号（Minor）**：向下兼容的功能性新增
- **修订号（Patch）**：向下兼容的问题修正

示例：v1.2.3

### 更新日志

在 `CHANGELOG.md` 中记录所有重要更改：

```markdown
## [版本号] - YYYY-MM-DD

### Added
- 新增的功能

### Changed
- 改变的功能

### Fixed
- 修复的问题

### Removed
- 移除的功能
```

## 社区准则

### 行为规范

1. **尊重他人**
   - 礼貌友善的交流
   - 建设性的批评
   - 包容不同观点

2. **质量优先**
   - 提交前充分测试
   - 保持代码整洁
   - 完善文档

3. **积极参与**
   - 回应评论和反馈
   - 帮助他人解决问题
   - 分享经验和见解

### 沟通渠道

- **GitHub Issues**：Bug 报告、功能请求
- **Pull Requests**：代码贡献、讨论
- **Discussions**：一般讨论、问答

## 认可与奖励

### 贡献者名单

所有贡献者将被添加到项目的 `CONTRIBUTORS.md` 文件中。

### 贡献类型认可

- 🌟 **核心贡献者**：多次重要贡献
- 📝 **文档专家**：完善文档和教程
- 🐛 **问题发现者**：报告重要 bug
- 💡 **创意贡献**：提出创新想法
- 🎨 **示例创作者**：提供优质案例

## 获取帮助

如有任何问题：

1. 查阅项目文档和 README
2. 搜索现有 Issues
3. 创建新 Issue 询问
4. 在 Pull Request 中提问

## 许可协议

贡献的内容将采用与项目相同的 MIT 许可协议。

---

再次感谢你的贡献！每一个改进都让这个项目变得更好，帮助更多人创作出优秀的小说作品。✨
